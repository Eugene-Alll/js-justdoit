!function(){"use strict";angular.element(document).ready(function(){angular.bootstrap(document,["llamaLists"])})}(),function(){"use strict";function t(t,e,s,n,i,a){i(t,e,s),a(n)}function e(t,e){t.initialize(),e.initialize()}angular.module("llamaLists",["ui.router","ngMessages","ngResource","ngAnimate"]).config(t).run(e),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider","$httpProvider","configRouter","configInterceptors"],e.$inject=["stateChangeSuccess","stateChangeError"]}(),function(){"use strict";function t(t){t.interceptors.push("AuthInterceptor")}angular.module("llamaLists").constant("configInterceptors",t)}(),function(){"use strict";function t(t,n,i){n.state("home",{url:"/",views:{navbar:{templateUrl:"navbar/navbar-auth/navbar-auth.tpl.html"},content:{templateUrl:"home/home.tpl.html"}}}).state("auth",{url:"","abstract":!0,resolve:{isUserLogged:e}}).state("auth.login",{url:"/login",views:{"content@":{templateUrl:"auth/auth-login/auth-login.tpl.html",controller:"loginPageCtrl",controllerAs:"loginVm"}}}).state("auth.signup",{url:"/signup",views:{"content@":{templateUrl:"auth/auth-signup/auth-signup.tpl.html",controller:"signupPageCtrl",controllerAs:"signupVm"}}}).state("main",{url:"","abstract":!0,views:{navbar:{templateUrl:"navbar/navbar-user/navbar-user.tpl.html",controller:"userNavCtrl",controllerAs:"navVm"}},resolve:{loadUserData:s}}).state("main.lists",{url:"/:username",views:{"content@":{templateUrl:"main/main-lists/main-lists.tpl.html",controller:"listsPageCtrl",controllerAs:"listsVm"}}}).state("main.interests",{url:"/interests/",views:{"content@":{templateUrl:"main/main-interests/main-interests.tpl.html",controller:"interestsPageCtrl",controllerAs:"vm"}}}).state("main.profile",{url:"/profile",views:{"content@":{templateUrl:"main-profile/main-profile.tpl.html"}}}).state("main.profile.account",{url:"/account",views:{profile:{templateUrl:"main-profile/profile-account/profile-account.tpl.html",controller:"accountPageCtrl",controllerAs:"vm"}}}).state("main.profile.password",{url:"/password",views:{profile:{templateUrl:"main-profile/profile-password/profile-password.tpl.html",controller:"passwordPageCtrl",controllerAs:"vm"}}}).state("404",{url:"/404/",views:{content:{templateUrl:"404/404.tpl.html"}}}),i.otherwise("/404"),t.html5Mode(!0)}function e(t){return t.logged()}function s(t,e,s){var n=t.localStorage.user;return e.get({name:n},function(t){return s.setData(t.user)})}angular.module("llamaLists").constant("configRouter",t),e.$inject=["userLogged"],s.$inject=["$window","UserService","userData"]}(),function(){"use script";function t(){return function(t,e,s){if("none"===e&&"visible"===s)return t;var n=t.filter(function(t){return"hidden"===s?"none"!==e?t.completed===!1&&t.color===e||t.completed===!1&&"gray"===t.color:t.completed===!1:t.color===e||"gray"===t.color});return n}}angular.module("llamaLists").filter("taskVisibility",t)}(),function(){"use strict";function t(t,e,s,n){return{request:function(t){return t.headers=t.headers||{},s.localStorage.token&&(t.headers.Authorization="Bearer "+s.localStorage.token),t},responseError:function(t){return 401===t.status?(delete s.localStorage.token,n.get("$state").go("auth.signup")):404===t.status&&n.get("$state").go("404"),e.reject(t)}}}angular.module("llamaLists").factory("AuthInterceptor",t),t.$inject=["$rootScope","$q","$window","$injector"]}(),function(){"use strict";function t(t){return t("/auth/:type",{type:"@type"},{save:{method:"POST",params:{type:"signup"}},login:{method:"POST",params:{type:"login"}}})}angular.module("llamaLists").factory("AuthService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){return t("/api/data/interests")}angular.module("llamaLists").factory("InterestsService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){var e=t("/api/data/recommendation");return e}angular.module("llamaLists").factory("ListRecommendationService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(){this.isRecommendation=function(t){return"undefined"!=typeof t&&(this.value=t),this.value},this.setIsOwnFilter=function(t){this.isOwnFilter=t},this.getIsOwnFilter=function(){return this.isOwnFilter}}angular.module("llamaLists").service("listsFilter",t)}(),function(){"use strict";function t(t){var e=t("/api/lists/:id:user",{id:"@id",user:"@user"},{query:{method:"GET",isArray:!1},update:{method:"PUT"}});return e}angular.module("llamaLists").factory("ListsService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){var e=t("/api/search/:type",{},{lists:{method:"POST",params:{type:"lists"}},users:{method:"POST",params:{type:"users"}}});return e}angular.module("llamaLists").factory("SearchService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t,e,s){return{initialize:function(){t.$on("$stateChangeError",function(t,n,i,a,r,o){"isAlreadyLogged"===o&&e.go("main.lists",{username:s.localStorage.user})})}}}angular.module("llamaLists").factory("stateChangeError",t),t.$inject=["$rootScope","$state","$window"]}(),function(){"use strict";function t(t){return{initialize:function(){t.$on("$stateChangeSuccess",function(t,e){var s=e.name.split(".");document.body.id=s[s.length-1]+"-page"})}}}angular.module("llamaLists").factory("stateChangeSuccess",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(){this.getTagsAndText=function(t){var e=[],s=twttr.txt.extractHashtags(t);return s.forEach(function(s){-1===e.indexOf(s)&&e.push(s),-1===t.indexOf("<span>#"+s+"</span>")&&(t=t.replace("#"+s,"<span>#"+s+"</span>"))}),{text:t,hashTags:e}}}angular.module("llamaLists").service("tags",t)}(),function(){"use strict";function t(t){var e=t("/api/lists/:list/task/:task",{list:"@list",task:"@task"},{query:{method:"GET",isArray:!1},update:{method:"PUT"}});return e}angular.module("llamaLists").factory("TaskService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t,e){this.getData=function(){return this.userData},this.setData=function(t){this.userData=t},this.isOwnerPage=function(){return t.localStorage.user!==e.username?!1:!0},this.isOwnerList=function(e){return t.localStorage.user!==e?!1:!0},this.getCurrentUser=function(){return t.localStorage.user}}angular.module("llamaLists").service("userData",t),t.$inject=["$window","$stateParams"]}(),function(){"use strict";function t(t,e,s){this.logged=function(){var e=s.defer();return t.localStorage.token?e.reject("isAlreadyLogged"):e.resolve(),e.promise}}angular.module("llamaLists").service("userLogged",t),t.$inject=["$window","$state","$q"]}(),function(){"use strict";function t(t){var e=t("/api/user/:name:type",{name:"@name",type:"@type"},{update:{method:"PUT"},avatar:{method:"PUT",params:{type:"avatar"}}});return e}angular.module("llamaLists").factory("UserService",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t,e,s,n,i,a,r,o){function l(){this.isUserAlreadyInMembers||(this.data.members.push(T),s.update({id:this.listID},{list:this.data},function(){O.isUserAlreadyInMembers=!0}))}function c(){if(!this.isOwner){var t,e=this.data.likes.some(function(t){return t===T.name});e?(this.data.likes=this.data.likes.filter(function(t){return t!==T.name}),this.alreadyLiked=!1,t=_.difference(T.lists_interests,this.data.tags)):(this.data.likes.push(T.name),this.alreadyLiked=!0,t=_.union(T.lists_interests,this.data.tags)),T.lists_interests=t,this.likes=this.data.likes.length,s.update({id:this.listID},{list:this.data}),r.update({},{user:T})}}function u(t){t&&L&&(L=!1,n.save({list:this.listID},{text:this.taskText,addTo:O.taskAdd},function(t){"bottom"===O.taskAdd?O.data.tasks.push(t.task):O.data.tasks.unshift(t.task),O.taskText=null,L=!0}))}function d(){this.taskText=null}function m(){O.showInviteList=!1,O.showBackground=!1}function h(){this.showBackground=!1,this.showInviteList=!1,e.$emit("hideFogOverlay")}function f(){this.showInviteList=!0,e.$emit("showFogOverlay")}function g(){this.showBackground=!0,e.$emit("showFogOverlay")}function p(){if(this.isOwner)s["delete"]({id:this.listID},function(){O.reload()});else{var t=this.data.members.filter(function(t){return t.name!==T.name});this.data.members=t,s.update({id:O.listID},{list:this.data},function(t){O.isUserAlreadyInMembers=!1,O.reload()})}}function v(){this.isOwner&&(y=this.data.title,this.data.title=this.data.title.replace(/(<([^>]+)>)/gi,""),I=this.data.title)}function w(){if(I&&I!==this.data.title){var t=o.getTagsAndText(this.data.title);this.data.title=t.text,this.data.tags=t.hashTags,s.update({id:this.listID},{list:this.data})}else this.data.title=y}function $(t){n.query({list:t},function(t){O.data.tasks=t.tasks})}function k(){O.taskAdd="bottom"===O.taskAdd?"top":"bottom"}function S(t,e){O.colorFilter=e.color}function b(){O.completedTask="visible"===O.completedTask?"hidden":"visible"}var L=!0,y="",I="",O=this,T=a.getData();this.taskAdd=T.add_task,this.completedTask=T.completed,this.colorFilter=T.color_filter,this.listID=this.data._id,this.siteUrl=document.location.href,this.twitterText="I create a new to-do list at page "+this.siteUrl,t.$on("taskAdd",k),t.$on("taskColorFilter",S),t.$on("taskVisibility",b),this.isOwnerPage=a.isOwnerPage(),this.isOwner=a.isOwnerList(this.data.owner.name),this.likes=this.data.likes.length,t.$watch(function(){return i.getIsOwnFilter()},function(){O.isOwnFilter=i.getIsOwnFilter()}),this.$onInit=function(){this.alreadyLiked=this.data.likes.some(function(t){return t===T.name}),this.isOwner||(this.isUserAlreadyInMembers=this.data.members.some(function(t){return t.name===T.name}))},this.addCurrentUserToMembers=l,this.addLike=c,this.addNewTask=u,this.clearInput=d,this.closePopupAndOverlay=h,this.invitePeople=f,this.openBackgroundPopup=g,this.saveEditedTitle=w,this.saveTextToTemp=v,this.removeList=p,this.reloadTasks=$,t.$on("closePopup",m)}angular.module("llamaLists").component("list",{bindings:{data:"=",reload:"&"},controller:t,templateUrl:"scripts/common/components/list/list.tpl.html"}),t.$inject=["$scope","$rootScope","ListsService","TaskService","listsFilter","userData","UserService","tags"]}(),function(){"use strict";function t(t){function e(e){e!==this.data.color?this.data.color=e:this.data.color="gray",t.update({list:c,task:m},{task:this.data})}function s(){this.data.text=d,this.editMode=!1}function n(){this.dropdownIsOpen=!1}function i(){d=this.data.text,this.editMode=!0,this.focusOn=!0,this.closeDropdown()}function a(t){t.currentTarget===t.target&&(this.dropdownIsOpen=this.dropdownIsOpen?!1:!0)}function r(e){this.editMode!==!0&&this.isOwner&&(this.data.completed=this.data.completed?!1:!0,t.update({list:c,task:m},{task:this.data}))}function o(){this.data.text?t.update({list:c,task:m},{task:this.data},function(t){h.editMode=!1}):this.closeEditMode()}function l(){t["delete"]({list:c,task:m},function(t){u(c)})}var c,u,d,m=this.data._id,h=this;this.dropdownIsOpen=!1,this.changeColor=e,this.closeEditMode=s,this.closeDropdown=n,this.editTaskText=i,this.openDropdown=a,this.setTaskCompleted=r,this.saveEditedText=o,this.removeTask=l,this.$onInit=function(){c=this.listCtrl.listID,u=this.listCtrl.reloadTasks,this.isOwner=this.listCtrl.isOwner}}angular.module("llamaLists").component("task",{bindings:{data:"="},require:{listCtrl:"^list"},controller:t,templateUrl:"scripts/common/components/task/task.tpl.html"}),t.$inject=["TaskService"]}(),function(){"use strict";function t(){function t(t,e,s){e.bind("keypress",function(e){13===e.which&&t.$apply(function(){t.$eval(s.clickEnter)})})}var e={restrict:"A",link:t};return e}angular.module("llamaLists").directive("clickEnter",t)}(),function(){"use strict";function t(t,e){function s(s,n,i){var a=e(i.clickOutside),r=function(t){var e=n[0].contains(t.target);if(t&&t.target&&!e)return s.$apply(function(){return a(s)})};t.on("click",r),s.$on("$destroy",function(){t.off("click",r)})}var n={restrict:"A",link:s};return n}angular.module("llamaLists").directive("clickOutside",t),t.$inject=["$document","$parse"]}(),function(){"use strict";function t(){function t(t,e,s,n){function i(){n.$setViewValue(e.html())}n.$render=function(){e.html(n.$viewValue||"")},e.bind("blur keyup change",function(){t.$apply(i)})}var e={restrict:"A",require:"ngModel",link:t};return e}angular.module("llamaLists").directive("contenteditable",t)}(),function(){"use strict";function t(t){function e(e,s,n){e.$watch("trigger",function(n){n&&t(function(){s[0].focus(),e.trigger=!1})})}var s={restrict:"A",scope:{trigger:"=customFocus"},link:e};return s}angular.module("llamaLists").directive("customFocus",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t){function e(e,s,n){function i(t){e.$apply(function(){a(e,{image:t.target.files[0]})})}var a=t(n.fileReader);s.bind("change",i)}var s={restrict:"A",link:e};return s}angular.module("llamaLists").directive("fileReader",t),t.$inject=["$parse"]}(),function(){"use strict";function t(t){function e(e,s,n){function i(){e.showFogState=!1,e.$parent.$broadcast("closePopup")}function a(){e.showFogState=!0}var r=t.$on("showFogOverlay",a),o=t.$on("hideFogOverlay",i);e.hideFogOverlay=i,e.$on("$destroy",r),e.$on("$destroy",o)}var s={restrict:"E",replace:!0,scope:{},template:"<div id='fog' ng-show='showFogState' ng-click='hideFogOverlay()'></div>",link:e};return s}angular.module("llamaLists").directive("fog",t),t.$inject=["$rootScope"]}(),function(){"use strict";function t(t){function e(e,s,n,i){function a(){s.hasClass("active-background")||(i.data.image=n["class"],s.parent().children().removeClass("active-background"),t.update({id:i.listID},{list:i.data},function(t){s.addClass("active-background")}))}n["class"]===i.data.image&&s.addClass("active-background"),s.bind("click",a)}var s={restrict:"A",require:"^list",replace:!0,scope:{},link:e};return s}angular.module("llamaLists").directive("listBackground",t),t.$inject=["ListsService"]}(),function(){"use strict";function t(t,e){function s(s,n,i,a){function r(){a.data.members.forEach(function(t){t.interests=t.interests.slice(0,3),s.stash.push(t),m.push(t.name)}),m.push(a.data.owner.name)}function o(){s.members?t.users({},{name:s.members,usedNames:m},function(t){s.users=t.users,s.users&&s.users.length>0?s.showSearchResult=!0:s.showSearchResult=!1}):s.showSearchResult=!1}function l(t){s.stash.push(t),m.push(t.name),s.showSearchResult=!1,s.members=null,s.users=null}function c(t){var e;s.stash.forEach(function(e,n){s.stash[n].name===t.name&&s.stash.splice(n,1)}),e=m.indexOf(t.name),e>-1&&m.splice(e,1)}function u(){var t=a.data;t.members=s.stash,e.update({id:a.listID},{list:t},function(t){d(),a.showInviteList=!0,a.closePopupAndOverlay()})}function d(){m=[],s.showSearchResult=!1,s.members=null,s.stash=[],s.users=[]}var m=[];s.owner=a.data.owner,s.stash=[],s.searchPeople=o,s.saveToStash=l,s.removeFromStash=c,s.saveToMembers=u,s.$watch(function(){return a.showInviteList},function(t){t===!0?r():d()})}var n={restrict:"E",require:"^list",replace:!0,templateUrl:"scripts/common/directives/list-invite/list-invite.tpl.html",link:s};return n}angular.module("llamaLists").directive("listInvite",t),t.$inject=["SearchService","ListsService"]}(),function(){"use strict";function t(t,e){function s(s,n,i){function a(){c.completed=s.completed,t.update({},{user:c},function(t){s.$parent.$broadcast("taskVisibility")})}function r(){c.add_task=s.addTask,t.update({},{user:c},function(t){s.$parent.$broadcast("taskAdd")})}function o(e){e===s.color&&(e="none"),c.color_filter=e,t.update({},{user:c},function(t){s.color=e,s.$parent.$broadcast("taskColorFilter",{color:e})})}function l(){s.navVm.closeSettingsSidebar()}var c=e.getData();s.color=c.color_filter,s.completed=c.completed,s.addTask=c.add_task,s.changeCompleted=a,s.changeTaskAdd=r,s.chooseColorFilter=o,s.closeSidebar=l}var n={restrict:"E",replace:!0,templateUrl:"scripts/common/directives/list-settings/list-settings.tpl.html",link:s};return n}angular.module("llamaLists").directive("listSettings",t),t.$inject=["UserService","userData"]}(),function(){"use strict";function t(t,e,s,n,i,a,r){function o(e,s,o){function l(){e.currentUserData=a.getData()}function c(s){if(e.newListSubmitted=!0,s){var n=r.getTagsAndText(e.newListTitle),a=n.text,o=n.hashTags;i.save({title:a,tags:o,members:e.members},function(s){e.lists.push(s.list),t.$emit("hideFogOverlay"),h()})}}function u(){e.searchUser?n.users({},{name:e.searchUser,usedNames:f},function(t){e.users=t.users,e.users&&e.users.length>0?e.showSearchResult=!0:e.showSearchResult=!1}):e.showSearchResult=!1}function d(t){e.members.push(t),f.push(t.name),e.showSearchResult=!1,e.searchUser=null,e.users=[]}function m(t){var s;e.members.forEach(function(s,n){e.members[n].name===t.name&&e.members.splice(n,1)}),s=f.indexOf(t.name),s>-1&&f.splice(s,1)}function h(){e.showSearchResult=!1,e.users=[],e.members=[],e.searchUser=null,e.nameMember=null,e.newListTitle=null,e.newListForm.$setPristine(),e.newListSubmitted=!1,f=[]}e.showSearchResult=!1,e.members=[],e.saveNewList=c,e.searchPeople=u,e.saveToMembers=d,e.removeFromMembers=m;var f=[];e.$watch(function(){return e.show},function(t){t===!0?(e.focus=!0,f.push(e.currentUserData.name)):h()}),l()}var l={restrict:"E",replace:!0,scope:{lists:"=",show:"="},templateUrl:"scripts/common/directives/new-list/new-list.tpl.html",link:o};return l}angular.module("llamaLists").directive("newList",t),t.$inject=["$rootScope","$window","UserService","SearchService","ListsService","userData","tags"]}(),function(){"use strict";function t(t){function e(e,s,n){e.$last===!0&&t(function(){e.$eval(n.onFinishRender)},1e3)}var s={restrict:"A",link:e};return s}angular.module("llamaLists").directive("onFinishRender",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t,e,s,n,i){function a(a){if(o.submitted=!0,a){var r={username:o.userName,email:o.userEmail,password:o.userPassword};s.save({},r,function(s){t.localStorage.token=s.token,t.localStorage.user=o.userName,n.get({name:t.localStorage.user},function(t){i.setData(t.user),e.go("main.interests")})},function(e){delete t.localStorage.token,o.message=e.data.message})}}function r(){o.message=null}var o=this;o.submitted,o.message,o.submitData=a,o.clearMessageError=r}angular.module("llamaLists").controller("signupPageCtrl",t),t.$inject=["$window","$state","AuthService","UserService","userData"]}(),function(){"use strict";function t(t,e,s,n,i){function a(a){if(o.submitted=!0,a){var r={username:o.username,password:o.password};s.login({},r,function(s){t.localStorage.token=s.token,t.localStorage.user=o.username,n.get({name:t.localStorage.user},function(t){i.setData(t.user),e.go("main.lists",{username:o.username})})},function(e){delete t.localStorage.token,o.message=e.data.message})}}function r(){o.message=null}var o=this;o.submitted,o.submitData=a,o.clearMessageError=r}angular.module("llamaLists").controller("loginPageCtrl",t),t.$inject=["$window","$state","AuthService","UserService","userData"]}(),function(){"use strict";function t(t,e,s,n,i,a){function r(t,e){var s=angular.element(t.target);6>u&&(s.addClass("chosen-interest"),c.selectedInterest.push({text:s.text(),color:d[0],id:e}),d.shift(),u++)}function o(t,e){var s=t.target.dataset.selectedId;c.selectedInterest.splice(e,1),angular.element(document.querySelectorAll("[data-id='"+s+"']")).removeClass("chosen-interest"),d.push(t.target.dataset.color),u--}function l(){var t=[];if(c.selectedInterest.length>0){c.selectedInterest.forEach(function(e){t.push(e.text)});var e=i.getData();e.interests=t,n.update({},{user:e},function(t){s.go("main.lists",{username:c.username})})}else c.emptyInterests=c.emptyInterests?!1:!0}var c=this,u=0,d=["red","orange","yellow","green","indigo","violet"];c.interests=[],c.selectedInterest=[],c.chooseInterest=r,c.removeInterest=o,c.saveInterests=l,c.username=e.localStorage.user,a.get(function(e){t(function(){c.interests=e.interests},100)})}angular.module("llamaLists").controller("interestsPageCtrl",t),t.$inject=["$timeout","$window","$state","UserService","userData","InterestsService"]}(),function(){"use strict";function t(t,e,s,n,i,a,r,o,l){function c(){p.isOwner!==!0&&i.get({name:v},function(t){p.user=t.user}),n.get({user:v},function(t){p.lists=t.lists})}function u(){l.get(function(t){p.lists=t.lists,r.isRecommendation(!0)})}function d(){p.showNewList=!0,e.$emit("showFogOverlay")}function m(){}function h(){n.get({user:v},function(t){p.lists=t.lists})}function f(t){switch(p.filter={owner:{}},r.isRecommendation()&&"recommended"!==t&&(c(),r.isRecommendation(!1)),t){case"all":r.setIsOwnFilter(!1);break;case"own":p.filter.owner.name=v,r.setIsOwnFilter(!0);break;case"inbox":p.filter.owner.name="!"+v,r.setIsOwnFilter(!1);break;case"recommended":delete p.filter.owner,u(),r.setIsOwnFilter(!1)}}function g(){p.showNewList=!1}var p=this,v=s.username;p.searchLists=[],p.showNewList,p.newListSubmitted,p.createNewList=d,p.makeGlobalSearch=m,p.selectSort=f,p.reloadList=h,p.isOwner=a.isOwnerPage(),t.$on("closePopup",g),c()}angular.module("llamaLists").controller("listsPageCtrl",t),t.$inject=["$scope","$rootScope","$stateParams","ListsService","UserService","userData","listsFilter","SearchService","ListRecommendationService"]}(),function(){"use strict";function t(t,e,s,n){function i(){l.user=n.getData()}function a(t){t&&(l.message=null,l.messageDone=null,s.update({},{user:l.user},function(t){l.messageDone=t.message,e.$emit("reloadNavbar")},function(t){l.message=t.data.message}))}function r(t){var n;0!==t.type.localeCompare("image/jpeg")&&0!==t.type.localeCompare("image/png")&&console.warn("error"),n=new FileReader,n.onload=function(t){s.avatar({},{avatar:t.target.result},function(t){l.user.avatar=t.avatar,e.$emit("reloadNavbar")})},n.readAsDataURL(t)}function o(){l.message=null}var l=this;l.saveChanges=a,l.changeAvatar=r,l.clearMessageError=o,i()}angular.module("llamaLists").controller("accountPageCtrl",t),t.$inject=["$window","$rootScope","UserService","userData"]}(),function(){"use strict";function t(t){function e(e){s.submitted=!0,s.errorConfirmPass=null,s.message=null,s.messageDone=null;var n={};e&&(s.newPass===s.newPassConfirm?(n={oldPass:s.oldPass,newPass:s.newPassConfirm},t.save({},n,function(t){s.messageDone=t.message},function(t){s.message=t.data.message})):s.errorConfirmPass=!0)}var s=this;s.savePassword=e}angular.module("llamaLists").controller("passwordPageCtrl",t),t.$inject=["UserService"]}(),function(){"use strict";function t(t,e,s,n,i,a){function r(){h.user=a.getData()}function o(t){h.dropdownIsOpen=h.dropdownIsOpen?!1:!0}function l(){h.dropdownIsOpen=!1}function c(t){var e;0!==t.type.localeCompare("image/jpeg")&&0!==t.type.localeCompare("image/png")&&alert("File format not support"),e=new FileReader,e.onload=function(t){i.avatar({},{avatar:t.target.result},function(t){h.user.avatar=t.avatar})},e.readAsDataURL(t)}function u(){delete n.localStorage.token,delete n.localStorage.user,s.go("home")}function d(){h.showListSettings=!0}function m(){h.showListSettings=!1}var h=this;h.user={},h.logout=u,h.openDropdown=o,h.changeAvatar=c,h.closeDropdown=l,h.openSettingsSidebar=d,h.closeSettingsSidebar=m,h.username=n.localStorage.user;var f=t.$on("reloadNavbar",r);r(),e.$on("$destroy",f)}angular.module("llamaLists").controller("userNavCtrl",t),t.$inject=["$rootScope","$scope","$state","$window","UserService","userData"]}();
//# sourceMappingURL=main.min.js.map
